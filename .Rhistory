library(tidyverse)
library(readxl)
library(readxl)
Data_raw_Sec3 <- readxl::read_xlsx("Datos.xlsx", sheet = "Sec3")
Data_raw_Sec45 <- readxl::read_xlsx("Datos.xlsx", sheet = "Sec45")
Data_raw_Sec67 <- readxl::read_xlsx("Datos.xlsx", sheet = "Sec67")
View(Data_raw_Sec3)
glimpse(Data_raw_Sec3)
Data_raw_Sec3 <- read_csv("sec3.csv")
Data_raw_Sec45 <- read_csv("sec45.csv")
Data_raw_Sec67 <- read_csv("sec67.csv")
glimpse(Data_raw_Sec3)
Data_raw_Sec3 <- read.csv("sec3.csv")
Data_raw_Sec45 <- read.csv("sec45.csv")
Data_raw_Sec67 <- read.csv("sec67.csv")
glimpse(Data_raw_Sec3)
Data_raw_Sec3 <- read_csv("sec3.csv")
glimpse(Data_raw_Sec3)
Data_raw_Sec3 <- read_csv("prueba.csv")
glimpse(Data_raw_Sec3)
install.packages("quanteda")
library(quanteda)
library(quanteda)
Data_raw_Sec3 <- read_csv("prueba.csv")
Data_raw_Sec3 %>% convert(num(EDAD))
help("read_csv")
Data_raw_Sec3 <- read_csv("prueba.csv", col_types = list(col_character(), col_factor(), col_integer(),
col_integer(), col_integer(), col_character(),
col_integer(), col_character(), col_integer(),
col_integer()))
glimpse(Data_raw_Sec3)
Data_raw_Sec3 <- read_csv("prueba.csv"#, col_types = list(col_character(), col_factor(), col_integer(),
#  col_integer(), col_integer(), col_character(),
# col_integer(), col_character(), col_integer(),
) #col_integer()))
glimpse(Data_raw_Sec3)
Data_raw_Sec3 <- read_csv("prueba.csv"#, col_types = list(col_character(), col_factor(), col_integer(),
#  col_integer(), col_integer(), col_character(),
# col_integer(), col_character(), col_integer(),
) #col_integer()))
Data_raw_Sec3 %>% convert(num(EDAD))
glimpse(Data_raw_Sec3)
Data_raw_Sec3 <- read_csv("Sec3.csv"#, col_types = list(col_character(), col_factor(), col_integer(),
#  col_integer(), col_integer(), col_character(),
# col_integer(), col_character(), col_integer(),
) #col_integer()))
glimpse(Data_raw_Sec3)
Data_raw_Sec45 <- read_csv("sec45.csv")
glimpse(Data_raw_Sec45)
Data_raw_Sec67 <- read_csv("sec67.csv")
glimpse(Data_raw_Sec67)
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45)
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%  inner_join(Data_raw_Sec67)
View(Data_join)
View(Data_raw_Sec67)
View(Data_raw_Sec45)
View(Data_join)
library(tidyverse)
Data_join %>% group_by(ID_PER)
View(Data_raw_Sec3)
View(Data_raw_Sec45)
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%  inner_join(Data_raw_Sec67) %>% select(-ID_PER,-CVE_ENT,-CVE_MUN)
View(Data_join)
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%
inner_join(Data_raw_Sec67) %>%
select(-ID_PER,-CVE_ENT,-CVE_MUN) %>%
filter(NOM_ENT = "Ciudad de Mexico")
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%
inner_join(Data_raw_Sec67) %>%
select(-ID_PER,-CVE_ENT,-CVE_MUN) %>%
filter(NOM_ENT == "Ciudad de Mexico")
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%
inner_join(Data_raw_Sec67) %>%
select(-ID_PER, -CVE_ENT, -CVE_MUN, -AP6_1_2) %>%
filter(NOM_ENT == "Ciudad de Mexico")
View(Data_join)
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%
inner_join(Data_raw_Sec67) %>%
select(-ID_PER, -CVE_ENT, -CVE_MUN, -AP6_1_2) %>%
filter(NOM_ENT == "Ciudad de Mexico", AP7_3_13 != 9, AP7_3_13 != 9)
Data <- Data_join %>%  replace_na(AP7_4_13, 0)
help("replace_na")
Data <- replace_na(Data_join$AP7_4_13, 0)
Data <- Data_join %>% mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na( AP7_4_14, 0))
View(Data)
Data_raw_Sec3 <- read_csv("Sec3.csv"#, col_types = list(col_character(), col_factor(), col_integer(),
#  col_integer(), col_integer(), col_character(),
# col_integer(), col_character(), col_integer(),
) #col_integer()))
Data_raw_Sec45 <- read_csv("sec45.csv")
Data_raw_Sec67 <- read_csv("sec67.csv")
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%
inner_join(Data_raw_Sec67) %>%
select(-ID_PER, -CVE_ENT, -CVE_MUN, -AP6_1_2) %>%
filter(NOM_ENT == "Ciudad de Mexico", AP7_3_13 != 9, AP7_3_14 != 9)
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%
inner_join(Data_raw_Sec67) %>%
select(-ID_PER, -CVE_ENT, -CVE_MUN, -AP6_1_2) %>%
filter(NOM_ENT == "Ciudad de Mexico", AP7_3_13 != 9, AP7_3_14 != 9)
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14)
View(Data)
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
View(Data)
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14)
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
sum(Data$Num_Inc)
Data_mujer <- Data %>% filter(SEXO == 2)
sum(Data_mujer$Num_Inc)
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14) %>% group_by(NOM_MUN)
View(Data)
glimpse(Data)
actor(NOM_MUN)
factor(NOM_MUN)
factor(Data_join$NOM_MUN)
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14) %>%
group_by(factor(NOM_MUN))
View(Data)
library
library(dslabs)
gapminder_clean <- gapminder %>% select(- continent, - region) %>%  na.exclude()
# Explore gapminder
head(gapminder_clean)
# Prepare the nested dataframe gap_nested
library(tidyverse)
gap_nested <- gapminder_clean %>%
group_by(country) %>%
nest()
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14) %>%
group_by(NOM_MUN) %>%
summarise(Sum_Mun = sum(Num_Inc))
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14) %>%
summarise(Sum_Mun = sum(Num_Inc))
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14) %>%
group_by(NOM_MUN) %>%
summarise(Sum_Mun = sum(Num_Inc))
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14) %>%
group_by(NOM_MUN) %>%
summarise(Sum_Mun = sum(Num_Inc))
Data <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
Data_per_mun <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
glimpse(Data_raw_Sec67)
View(Data_raw_Sec3)
View(Data_raw_Sec45)
View(Data_raw_Sec67)
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0))
mutate(Data_join, AP7_4_13 = replace_na(AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0))
Data_join %>%
mutate(AP7_4_13 = replace_na(AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0))
Data_cdmx <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0), hola = "x") %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
View(Data_cdmx)
View(Data_cdmx)
Data_cdmx <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
View(Data_cdmx)
Data_per_mun1 <- Data_cdmx %>%
group_by(NOM_MUN) %>%
summarise()
View(Data_per_mun1)
Data_cdmx <- Data_join %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
View(Data_per_mun)
Data_per_mun1 <-  Data_cdmx %>%
group_by(NOM_MUN) %>%
summarise(Sum_Num = sum(NOM_MUN))
Data_per_mun1 <-  Data_cdmx %>%
group_by(NOM_MUN) %>%
summarise(Sum_Num = sum(Num_Inc))
View(Data_per_mun1)
Data_per_mun <-  Data_cdmx %>%
group_by(NOM_MUN) %>%
summarise(Sum_Num = sum(Num_Inc))
Data_Izt <- Data_cdmx %>%
filter(NOM_MUN == "Iztapalapa")
View(Data_Izt)
42/1000
42/1153
View(Data_join)
View(Data_cdmx)
View(Data_per_mun)
sum(Data_per_mun$Sum_Num)
View(Data_cdmx)
View(Data)
View(Data_per_mun)
View(Data_cdmx)
View(Data_Izt)
View(Data_per_mun)
View(Data_Izt)
View(Data_cdmx)
Data <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%
inner_join(Data_raw_Sec67) %>%
select(-ID_PER, -CVE_ENT, -CVE_MUN, -AP6_1_2) %>%
filter(AP7_3_13 != 9, AP7_3_14 != 9) %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
Data_cdmx <- Data %>%
filter(NOM_ENT == "Ciudad de Mexico")
Data_per_est <- Data %>%
group_by(NUM_ENT) %>%
summarise(Sum_Num_Inc = sum(Num_Inc))
Data_per_est <- Data %>%
group_by(NOM_ENT) %>%
summarise(Sum_Num_Inc = sum(Num_Inc))
View(Data_per_est)
Data_per_est_top_n <- Data_per_est %>% top_n(n = 10)
View(Data_per_est_top_n)
Data_per_est_top_n <- Data_per_est %>% top_n(n = 10, wt = -Sum_Num_Inc)
View(Data_per_est_top_n)
View(Data_per_est_top_n)
Data_per_est_top_n <- Data_per_est %>% top_n(n = 10, wt = Sum_Num_Inc)
View(Data_per_est_top_n)
Data_per_est_top_n <- Data_per_est %>% top_n(n = 10, wt = Sum_Num_Inc)
View(Data_per_est_top_n)
library(tidyverse)
Data_raw_Sec3 <- read_csv("Sec3.csv"#, col_types = list(col_character(), col_factor(), col_integer(),
#  col_integer(), col_integer(), col_character(),
# col_integer(), col_character(), col_integer(),
) #col_integer()))
Data_raw_Sec45 <- read_csv("sec45.csv")
Data_raw_Sec67 <- read_csv("sec67.csv")
glimpse(Data_raw_Sec67)
Data <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%
inner_join(Data_raw_Sec67) %>%
select(-ID_PER, -CVE_ENT, -CVE_MUN, -AP6_1_2) %>%
filter(AP7_3_13 != 9, AP7_3_14 != 9) %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
View(Data)
Data <- Data_join %>%
select(-ID_PER, -CVE_ENT, -CVE_MUN, -AP6_1_2) %>%
filter(AP7_3_13 != 9, AP7_3_14 != 9) %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
Data_join <- inner_join(Data_raw_Sec3, Data_raw_Sec45) %>%
inner_join(Data_raw_Sec67)
Data <- Data_join %>%
select(-ID_PER, -CVE_ENT, -CVE_MUN, -AP6_1_2) %>%
filter(AP7_3_13 != 9, AP7_3_14 != 9) %>%
mutate(AP7_4_13 = replace_na( AP7_4_13, 0), AP7_4_14 = replace_na(AP7_4_14, 0)) %>%
select(-AP7_3_13, -AP7_3_14) %>%
mutate(Num_Inc = AP7_4_13 + AP7_4_14) %>%
select(-AP7_4_13, -AP7_4_14)
Data_per_est <- Data %>%
group_by(NOM_ENT) %>%
summarise(Sum_Num_Inc = sum(Num_Inc))
Data_per_est_top_n <- Data_per_est %>% top_n(n = 10, wt = Sum_Num_Inc)
Data_cdmx <- Data %>%
filter(NOM_ENT == "Ciudad de Mexico")
Data_Izt <- Data_cdmx %>%
filter(NOM_MUN == "Iztapalapa")
Data_per_mun <-  Data_cdmx %>%
group_by(NOM_MUN) %>%
summarise(Sum_Num = sum(Num_Inc))
View(Data_cdmx)
View(Data_per_est)
View(Data_cdmx)
Data_Izt <- Data_cdmx %>%
filter(NOM_MUN == "Milpa Alta")
View(Data_per_est)
View(Data_per_mun)
Data_Mil <- Data_cdmx %>%
filter(NOM_MUN == "Milpa Alta")
library(tidyverse)
Data_Mil <- Data_cdmx %>%
filter(NOM_MUN == "Milpa Alta")
View(Data_Mil)
View(Data_per_est)
View(Data_cdmx)
View(Data_per_mun)
View(Data_Izt)
